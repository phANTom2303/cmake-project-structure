# C Project with CMake

Ensure you have `cmake` and `gcc` installed on your system. 

In case of ubuntu or `apt` based distro : 

```bash
sudo apt install gcc cmake
```

## Structure :

```
.
├── build 
├── CMakeLists.txt
├── README.md
└── src
    ├── input.c
    ├── input.h
    └── main.c

```

- `build/` (create this directory after cloning the repo) This contains the build files for your project.
- `CMakeLists.txt` this is the CMake configuration to create MakeFiles using CMake
- `src/` folder containing your actual code files.

## Developer Flow :

### Setup 

1. Create `CMakeLists.txt` file where you list out your source code files, specify project name, gcc version, output executables and their names and the code files associated with them.
2. Create the `build` directory.
3. Write your code. Note that you have to modify your `CMakeLists.txt` file whenever you create/delete/rename/move your files. Just changing the code withing your file doesn't require you to modify it.


### Overall Flow :

When creating the project for the first time or whenever you modify the `CMakeLists.txt` file, run the following command while in the root of your project directory : 

```bash
cmake -B ./build
```

This creates the makefiles for your project within the `build` directory.

Now for day to day programming, i.e. modifying code files, simply do the following 

```bash
cd ./build # change directory to the one containing build files
make #command to actually compile your project acc to the makefile generated by CMake
./hello #the executable is created in the build directory, you can run it from here 
```

